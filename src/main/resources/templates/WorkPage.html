<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Рабочий стол</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
</head>
<body>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet"/>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.8.1/bootstrap-table.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.8.1/bootstrap-table.min.js"></script>
<script src="Cars.js"></script>
<script src="Clients.js"></script>
<script src="CarHands.js"></script>
<a th:href="@{/index}"  class="btn btn-primary btn-lg btn-block">Домой</a>

<script src="http://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous">
</script>

<div class="container">
    <table id="eventsTable"
           data-toggle="table"
           data-height="300"
           data-url="/car"
           data-pagination="true"
           data-search="true"
           data-show-refresh="true"
           data-show-toggle="true"
           data-show-columns="true"
           data-toolbar="#toolbar"
           data-response-handler="responseHandler">
        <thead>
        <tr>
            <th data-field="state" data-checkbox="true"></th>
            <th data-field="id_car" data-sortable="true">№</th>
            <th data-field="id_manufacturer.nameManufacturer" data-sortable="true">Производитель</th>
            <th data-field="style.nameStyle" data-sortable="true">Тип кузова</th>
            <th data-field="name" data-sortable="true">Наименование</th>
            <th data-field="statenumber" data-sortable="true">Гос. номер</th>
        </tr>
        </thead>
    </table>
    <form>
        <input type = "text" placeholder = "Имя производителя" name = "inmanufacturer" required> <!-- поле обязательно к заполнению -->
        <input type = "text" placeholder = "Тип кузова" name = "instyle" required> <!-- поле обязательно к заполнению -->
        <input type = "text" placeholder = "Наименование" name = "inname" required> <!-- поле обязательно к заполнению -->
        <input type = "text" placeholder = "Гос. номер" name = "instatenumber" required>
        <button onclick="add(inmanufacturer.value, instyle.value, inname.value, instatenumber.value)" id="btn btn-add">Добавить</button><!-- Остановился здесь -->
        <button onclick="getIdSelectionsUpd(inmanufacturer.value, instyle.value, inname.value, instatenumber.value)" id="btn btn-update">Изменить</button>
        <button onclick="getIdSelections()" id="btn btn-delete">Удалить</button>
    </form>
</div>
<!-- Блок клиенты=================================================================================================== -->
<a th:href="@{/workpage}"  class="btn btn-primary btn-lg btn-block">Клиенты</a>
<div class="container">
    <table id="eventsTable2"
           data-toggle="table"
           data-height="300"
           data-url="/client"
           data-pagination="true"
           data-search="true"
           data-show-refresh="true"
           data-show-toggle="true"
           data-show-columns="true"
           data-toolbar="#toolbar">
    <thead>
        <tr>
            <th data-field="state" data-checkbox="true"></th>
            <th data-field="client_id" data-sortable="true">№</th>
            <th data-field="first_name_client" data-sortable="true">Имя</th>
            <th data-field="last_name_client" data-sortable="true">Фамилия</th>
            <th data-field="middle_name_client" data-sortable="true">Отчество</th>
            <th data-field="phone_client" data-sortable="true">Телефон</th>
        </tr>
    </thead>
    </table>
    <form>
        <input type = "text" placeholder = "Имя" name = "infirstname" required>
        <input type = "text" placeholder = "Фамилия" name = "inlastname" required>
        <input type = "text" placeholder = "Отчество" name = "inmiddlename" required>
        <input type = "text" placeholder = "Телефон" name = "inphone" required>
        <button onclick="addClients(
            infirstname.value, inlastname.value, inmiddlename.value, inphone.value)" id="btn btn-add-clients">Добавить</button>
        <button onclick="getIdSelectionsUpdClients(
            infirstname.value, inlastname.value, inmiddlename.value, inphone.value)" id="btn btn-update-clients">Изменить</button>
    </form>
    <button onclick="getIdSelectionsDelClients()" id="btn btn-delete-clients">Удалить</button>
    <button onclick="addCarOnHands()" id="btn btn-add-car-on-hands">Зарезервировать</button>
</div>
<!-- Блок Авто в аренде============================================================================================= -->
<a th:href="@{/workpage}"  class="btn btn-primary btn-lg btn-block">Авто в аренде</a>
<div class="container">
        <table id="eventsTable3"
               data-toggle="table"
               data-height="300"
               data-url="/caronhand"
               data-pagination="true"
               data-search="true"
               data-show-refresh="true"
               data-show-toggle="true"
               data-show-columns="true"
               data-toolbar="#toolbar"
               data-response-handler="responseHandler">
            <thead>
            <tr>
                <th data-field="state" data-checkbox="true"></th>
                <th data-field="idCarOnHand" data-sortable="true">№</th>
                <th data-field="car.name" data-sortable="true">Наименование авто</th>
                <th data-field="car.statenumber" data-sortable="true">Государственный номер</th>
                <th data-field="client.last_name_client" data-sortable="true">Фамилия клиента</th>
            </tr>
            </thead>
        </table>
        <form>
            <input type = "text" placeholder = "Наименование авто" name = "inCarName" required>
            <input type = "text" placeholder = "Государственный номер" name = "inStatenumber" required>
            <input type = "text" placeholder = "Фамилия клиента" name = "inLastName" required>
        </form>
            <button onclick="getIdSelectionsDelCarHands()" id="btn btn-delete-carhands">Удалить</button>
</div>
    <script>
        function responseHandler(res) {
            var flatArray = [];
            $.each(res, function(i, element) {
                flatArray.push(JSON.flatten(element));
            });
            return flatArray;
        }
    </script>
    <ul id="output"></ul>
<div th:replace="footer :: footer"/>
</body>
</html>
